language: python
python:
- '3.6'
before_install:
- openssl aes-256-cbc -K $encrypted_dbee582e6dc3_key -iv $encrypted_dbee582e6dc3_iv
  -in gce.tar.enc -out gce.tar -d
- tar -xvf gce.tar && rm -f gce.tar
- mkdir -p ~/.gcp && mv -f ${GCE_SA_FILE} ~/.gcp && chmod 0600 ~/.gcp/${GCE_SA_FILE}
- mv -f ${GCE_SSH_FILE}* ~/.ssh && chmod 0600 ~/.ssh/${GCE_SSH_FILE}*
- pwd && ls -a
install:
- pip install ansible<3,>=2.4 molecule<3,>=2.6 apache-libcloud
before_script:
- ansible --version && molecule --version
script:
- molecule test --destroy never
after_script:
- molecule destroy
- rm -rf ~/.gcp && rm -f ~/.ssh/${GCE_SSH_FILE}*
notifications:
  slack:
    rooms:
      secure: K3FE2iLb/uU0Qqf8DXrGezhzYL1TsDVBvHwCRHap6WSSfGPxbaHGoL3dm755Do7NYp+ytFcFiveb+094tDRr31p4wQjpSgrbbpLEeYEOqm9hCzA5Cvv+CBbea0uv1jGpgIFnHQx1e+o+q9RL3jIfSdyhvJxG7H5CXSLR+mqMZPFoAGDAwA6KpuiabwQP0oJYauiarInjw4TWFomABlLRUhoj9sa4NJ5Pz/94sd3RPBDwdnJ9TpMVyDBhS2xqOFQgg1VSvv3N5U5Y8i+4UohLGOUgpvQJo1bWln/8luKemCVyACn2xLlZOUp/+tHuPFUy8cJFPKjf4ftMb7mw3RG6Ny6ZigVreJ0SFXaCwB6CEPjjtCjr3nx9zBjOV7Bxxou4GoMGkzbIq0peKbQYpcq2klc0nmYkM/upHGZW5dmTu4zPjYl+NGdX7IuIM33vIhObBqOVao/2D0Im2IFhFGHHEu1aHC7zw/4yp4Qrq0jRQTuISCokRmZ4PnGQeYVpuNEZ/s/726z2bu0OmgwuwzzsEf6zXTeSiZ0AflqeozfCpJ8Zh8fPcIUpi7oBN0dsafuLNQ1S9qf2dVQPBpFTIZgSL7hrSONmR3nsyNTCVwzR1Bkvs3k1+YyQobZZFf8xfU3KbgHbMn06X/f2dnqji7gx7yLODo/O3jTQY3y//907OqU=
env:
  global:
  - secure: JGPJi4JVXA68Rqe2YX2jCPhgrWEe9VzkQiThNUIdPC1Po2jObgXHDMngsR+TSCSFPZoXRQMKgKTTdOSLO9VQAEMV9LUAbJYjthTQlDSV5cxbSdMxP/ijifjZp3F9CxfNW4LZS9doL3pbhV3qsS3WKy84Ja1xqx4Pn6U87vCPqealIC4jZ7YxeR/HgA7TfW8FYKXP3nZJ+Sw6/Bpxpw7hENmotC8gTHwmno7LclEDTpfhTc+V6OczRaEHYs2+cmQDzvi0qa9GnHsiVSN+WlapQp9rJHxwE36X6o1SeYa3T8MfyXvJm8mW1E2dZXV8hY36Qusn8Ya6f+YlFz5CvcKpeLLy+NKYe0wGzZW9tVbMh0RFYljVfhYl5Mldf37I102qKATNoQRRBiuviYjwLenVgKbCDZxkoWMqIzHLR10AEi91ODGlg0b6Dhx5T6JOQPuRUvicBPvXxuYvgxXSzAUM1r5IVNlIDih/UYxAdGSxN3BIq8VrpiKDlsMpvBu2YcfJoTACU7GCc16LNmcjQE3RekS+KBi3PYV0fBZlPSvr/lMFrTIfEE8vc5alOfUpvP67eerq1svywCLGoQnXsRsRgu/C4InfQ9eOLkV3DXBhyk85RAlr2dils0ob5L7CIdGfjBiX75AhQa7W6PvxwwvVgxKc/KBI+sDn/xqSAN9YiZM=
  - secure: C5jt/VekxXM9cbPtvS3E9hwWX6x00aSQtgLipSWqS2I4I1eRyVt90JHjm5qz6CUtCSuQIsmPKvqHUz1vla0LvaWozYxJIbvd6OXGkjdOkXlUzMvulVWRPwCvxozz30r4Ej5v+CB1siBvz68AnbkjnfJ/hZfSUtDPM7DEExVQj9PHMu5QVivFu9yHpU8bN4Q4sFuebqhqsWuL0gjQsAJKy+7Q9qIO6o0pxLH7d6ygzs33iqzwY2THr/vqy31t/3teWS2X5sMpbJzGQz9KagdB0geYBtXxGEA/hsrBXNv8a5kdxTm2RNCn7UMvffW5FdrpnvXprUMq3hgKSUwlEQx2irB8q/vS/2rk7yhO530cYl+Lz05grcuxRu+ZxBkqGnTp+p0Lkd6H6oZJeX0r0MOTPxphHs2Fml7err519iRBf/Dle43J+hCOgJjxAf8FZIWzhC4EHP5q+1oC7m3bSVpc/3VwI50RedwH5bd8I8615ZhBFCuk7Zy9Il9c6ugNsyppyiUO4xKxLpPLBgglNUgCYoLpn4yHPqxP+I+9gQ+mumxXKfZC0S3cSRhmK0RQxcNVnqggbZpKTnvLMWJS3P+pCKsKUhc0XnTHvhVz8SQ0ZUxP6XwskPHdwNgUtYUkK8g7KVZOl0QHRBxu7smGQIIEFvKr8eZGMnYVKcyATrYhMuY=
  - secure: YVMA/ahloyONjzw3VzZC/czw8EecUBuSRrHLw4ZiIhLQtUnlbb+TmXxHQiRnTXz95b7VfBdYT03bec56VCtQWPjrr/2ZuoSAXlrz53vuF18qIt09bFNRTWRfkinsImnvT1nTpEYrNaIktuN8ukJz9JfLN74iPHlblFISMBYxJBPw5zSsKLpHDuA7Bkxna6vN+vnNCLnAY9JcxQdLyMPwOCsvXiRsF11ChkG2KRVnojGSDL2KwjeFV1QeV9vZ/crCMcZQT/DK/2YiZwkyKDiZlAzFM6T0ptIuIbqVOFtz39QsdZa9CGXLoM9Cp5YgvHFqltmKZ35Nnb+KiJd7mY8VYcDCZkDYqKrWeqf36w4EzfLtd4t/qCyqyt2sSJrt49/tI55ud5i35mYluGrD6ZvGNMg1wdmGXUYABrCPL1YcR07B7/h+wxCJkch1yy4SVi6k5nlFDCGG11tVr0iVU4O/WBednOa/U7T5x8bmMJ6AIG9vk+Df52uyUsGc0S5E7nQNcO5eXCHIipLwvGsWqhw3Eni7YSwIjo142dpXbn39weFp/uZw6QEvsRKuLLj1WdBpXyBrwaSEvNBhKEdXOmSCJvsa/VP4nisFW4ROS5HH6ZSQD7JGMTwhWFyCF5U+ZRWZhmZHXGg0NmCd8Afi3AL0pGhcBRFHA2evBpn8YNGIs7o=
  - secure: UmfPUT7gNw6+GxmmXVfrz+0grHD321PBIe8qHQJrqa+aPia4pArzqVd/1HKplKYBQA4moMbAwd/jX2HM1Qb15PUIMkhszP+aCOWDvQGVww/8ZUTj6/5ZTmksrYW01QvJ0RQSvgUzWWLOGeHYYc/PuGF3dFfRYaO/K3XxcDLoZhCVCqt7mq5NjDD9DXVAokuCNDuCewed0zf6R+5VvREiEpAYhlPP5+ieXJ31xqAD3ekcaWITdBBE6kR0gszoNjyv9dj9Thx8ZAVfXbTPA4HjUSGSnNIIMHXxzsj6f+BP2Kz/5I7Ub9lPHcmfbUo+XO8eVLIvpLPlV+BqNxnnlVWvzrEKCCWSHUBpeNGPJfa468uAm3EJVBpNti1ZOPzdUwUa7uXze2LzRHWR1XTeJ1sryCK5VE1oOpxUAZMDwgBrzqQ70n8qtNB2yhHymxYnMgMpN4lUzHoSi1F+dmwLrnhggPmY148tQWknAAfln6FyY7shsCxV8/paGAjFLCn9VhF00FQyT5OkR0FWyLAy9CTD3qy4mMhhQ9bQVI4dvgT24yO+Nxgg+LuZoOzQUiTKQmVDwaG5f4JSTp/ohjvyXiF+mw83i3fg2mfKDEZRpu/ZxpS6bdRS6GUTmnGMnJO8UzqHgXpvvVuLN3Iob8muSMxbMNgxVbKSbmoHZ7e4SYVK3MQ=
  - secure: LQhbmKXcdfiwxhTeB4eSkWUbFotLQEC7xjiuC3LZMs6zBYOqrLayyCM6tsyOeSJEGheWOhE+e3TtIVKBWkjxRJSDCmsU4u8ycqllx8vTCykW8XtdNTQF7CJ1jekMlsBtqY4IKVWaoPjpJRrZAU0W7LYGSmN7uUaKf0oMXi7WU3/K93oRk9An136Sli5MJCK5S8XI36KHuNEAYn8S0M2h25eEtnUbq+j9gIpX6QvLxxTaHA67+tZl4jTjPR3iu+Aq1smcgUCQUcFn/FRaKAewyXKrFERUPzDHSZvvg3VzV7ZrJbRbEItR5w9RhK2YvNE4OrKJN4a2Heye3Sf6nRxOVopjkP9rB1+8ULqaevPrxxECUzCUn/rgsjP25ZFK5P3hy+g00WUSpd1AkPxtWelhime83vZsH6Y2bG/6oPjrryIextzMST24SsoiEBrODB0EUaX0ytlxvCcYr7xn/rkE+Z131M/nKHt0uQLvkNbU7V5bUaXQuDEDtAc9k8WUXg81tK6pDXKdhl3cckMUMS5L4o9tvDSPkCLKhxjZ0Pi1TG+mDBr/imw2jEPfi9WMW4DReuimNuCY21FzmIxCzyGVe7AAcCFlVDCoqCkIFD6TkkEmwj/BPzl71xT0Jpi3TKPcFlUEbGGOvf6qvAmSBszpcegrryGdUziQpYTUVVLaz0U=
